# 9.6 기타 설정 - 로그인 후 페이지 이동

  - 시큐리티를 이용하면서 고민하는 내용 중 하나는 로그인이 필요하지 않은 페이지에서 특정한 작업을 하기 위해 로그인을 하는 경우의 처리이다. 만일 로그인이 필요한 URL이었다면 이미 로그인 페이지를 거치기 때문에 문제가 없지만, 페이지 내에서 로그인이 필요한 경우는 조금 다른 접근이 필요하다.

    - '게시물 조회'에서 별도의 로그인이 필요하지 않았지만, '조회 페이지 내에서 댓글을 추가'하는 등의 작업을 하는 경우에는 로그인이 필요했다. 이와 같은 경우를 처리하려면, 로그인을 호출하는 페이지의 정보를 저장했다가 로그인이 성공한 후에 특정한 URL로 이동하도록 처리할 필요가 있다. 

    - Spring MVC의 인터셉터와 Spring Security의 AuthenticationSuccessHandler를 이용하도록 한다.

  - 구현 방식

    - '/login'경로를 호출할 때 특정한 파라미터(dest)를 추가하고, 파라미터의 값으로 로그인 후에 이동할 경로를 지정

    - '/login'의 호출을 감지하는 인터셉터를 추가해서 호출 시 파라미터가 존재하는지 확인하고, 만일 존재한다면 HttpSession에 값을 추가

    - 로그인이 성공한 후에 HttpSession에 특정한 값이 보관되어 있었다면 이를 이용해서 redirect

    