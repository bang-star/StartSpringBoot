# 7.5 게시물 리스트에서의 댓글 개수 처리

  - 댓글 기능을 처리하는 과정에서 가장 복잡한 작업은 의외로 게시물의 리스트 화면에서 각 게시물에 달린 댓글의 개수를 같이 출력해 주는 작업이다.

  - JDBC 등을 이용했던 과거에는 단순히 SQL을 이용해서 조인으로 처리했지만, JPA를 이용하는 경우에는 여러 문제가 발생한다.

## 7.5.1 게시물과 댓글 수의 문제

  - 댓글의 개수를 출력해 주는 작업은 양방향으로 처리된 아주 간단히 댓글의 개수만 숫자로 출력하면 된다.

    ```HTML
    <tr class="odd gradeX" th:each="board:${result.content}">
        <td>[[${board.bno}]]</td>
        <td>
            <a th:href='${board.bno}' class='boardLink'>[[${board.title}]]</a>
            <span class="badge">[[${board.replies.size()}]]</span>
        </td>
        <td>[[${board.writer}]]</td>
        <td class="center">[[${#dates.format(board.regdate, 'yyyy-MM-dd')}]]</td>
    </tr>
    ```

  